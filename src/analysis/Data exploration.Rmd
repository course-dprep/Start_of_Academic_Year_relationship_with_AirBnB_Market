---
title: "Data preparation & exploration"
output:
  pdf_document: default
  html_document: default
date: "2022-10-15"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Exploration

First of all, the installation or loading of the necessary packages is required

```{r}
library(dplyr)
library(tidyr)
library(tidyverse)

```

Then, the datasets are loaded

```{r}

#load datatsets

total_antwerp <- read_csv("../../data/total_antwerp.csv")
total_amsterdam <- read_csv("../../data/total_amsterdam.csv")
total_rotterdam <- read_csv("../../data/total_rotterdam.csv")
total_brussels <- read_csv("../../data/total_brussels.csv")
total_berlin <- read_csv("../../data/total_berlin.csv")

```

#### Boxplot function to include four boxplots per city

```{r}
boxplots_interest <- function(df) { 
  boxplot(df$average_price, main="Boxplot of average price")
  boxplot(df$average_nights, main="Boxplot of average nights")
  boxplot(df$maximum_nights, main="Boxplot of maximum nights")
  boxplot(df$minimum_nights, main="Boxplot of minimum nights")}
```

## Antwerp dataset

#### Exploration

```{r}
summary(total_antwerp$average_price)
summary(total_antwerp$average_nights)
summary(total_antwerp$minimum_nights)
summary(total_antwerp$maximum_nights)
```

#### Boxplots for Antwerp

```{r}
boxplots_interest(total_antwerp)
```

#### Table with categorical variables

```{r}
table(total_antwerp$room_type)
table(total_antwerp$host_is_superhost)
table(total_antwerp$room)
table(total_antwerp$dummy_month_aug)
```

#### Plots

```{r}
plot_pr <- ggplot(total_amsterdam, mapping = aes(x = average_price, y = minimum_nights)) +
  geom_line()

plot_pr

plot(total_antwerp$average_price, total_antwerp$minimum_nights)
plot(total_antwerp$average_price, total_antwerp$maximum_nights)
plot(total_antwerp$average_price, total_antwerp$average_nights)
```

## Amsterdam dataset

#### Summary statistics for all numerical variables

```{r}
sum_price <- summary(total_amsterdam$average_price)
sum_nights_av <- summary(total_amsterdam$average_nights)
sum_nights_min <- summary(total_amsterdam$minimum_nights)
summary(total_amsterdam$maximum_nights)
sum_price
sum_nights_av
sum_nights_min
```

#### Boxplots for Amsterdam

```{r}
boxplots_interest(total_amsterdam)
```

#### Table with categorical variables

```{r}
table(total_amsterdam$room_type)
table(total_amsterdam$host_is_superhost)
table(total_amsterdam$room)
table(total_amsterdam$dummy_month_aug)
```

#### Plots

```{r}
plot_pr <- ggplot(total_amsterdam, mapping = aes(x = average_price, y = minimum_nights)) +
  geom_line()

plot_pr

plot(total_amsterdam$average_price, total_amsterdam$minimum_nights)
plot(total_amsterdam$average_price, total_amsterdam$maximum_nights)
plot(total_amsterdam$average_price, total_amsterdam$average_nights)
```

## Berlin dataset

#### Summary statistics

```{r}
sum_price <- summary(total_berlin$average_price)
sum_nights_av <- summary(total_berlin$average_nights)
sum_nights_min <- summary(total_berlin$minimum_nights)
summary(total_berlin$maximum_nights)
sum_price
sum_nights_av
sum_nights_min
```

#### Boxplots for Berlin

```{r}
boxplots_interest(total_berlin)
```

#### Table with categorical variables

```{r}
table(total_berlin$room_type)
table(total_berlin$host_is_superhost)
table(total_berlin$room)
table(total_berlin$dummy_month_aug)
```

#### Plots

```{r}
plot_pr <- ggplot(total_berlin, mapping = aes(x = average_price, y = minimum_nights)) +
  geom_line()

plot_pr

plot(total_berlin$average_price, total_berlin$minimum_nights)
plot(total_berlin$average_price, total_berlin$maximum_nights)
plot(total_berlin$average_price, total_berlin$average_nights)
```

## Brussels dataset

#### Summary statistics

```{r}
sum_price <- summary(total_brussels$average_price)
sum_nights_av <- summary(total_brussels$average_nights)
sum_nights_min <- summary(total_brussels$minimum_nights)
summary(total_brussels$maximum_nights)
sum_price
sum_nights_av
sum_nights_min
```

#### Boxplots for Brussels

```{r}
boxplots_interest(total_brussels)
```

#### Table with categorical variables

```{r}
table(total_brussels$room_type)
table(total_brussels$host_is_superhost)
table(total_brussels$room)
table(total_brussels$dummy_month_aug)
```

#### Plots

```{r}
plot_pr <- ggplot(total_brussels, mapping = aes(x = average_price, y = minimum_nights)) +
  geom_line()

plot_pr

plot(total_brussels$average_price, total_brussels$minimum_nights)
plot(total_brussels$average_price, total_brussels$maximum_nights)
plot(total_brussels$average_price, total_brussels$average_nights)
```

## Rotterdam dataset

#### Summary statistics

```{r}
sum_price <- summary(total_rotterdam$average_price)
sum_nights_av <- summary(total_rotterdam$average_nights)
sum_nights_min <- summary(total_rotterdam$minimum_nights)
summary(total_rotterdam$maximum_nights)
sum_price
sum_nights_av
sum_nights_min
```

#### Boxplots for Rotterdam

```{r}
boxplots_interest(total_rotterdam)
```

#### Table with categorical variables

```{r}
table(total_rotterdam$room_type)
table(total_rotterdam$host_is_superhost)
table(total_rotterdam$room)
table(total_rotterdam$dummy_month_aug)
```

#### Plots

```{r}
plot_pr <- ggplot(total_rotterdam, mapping = aes(x = average_price, y = minimum_nights)) +
  geom_line()

plot_pr

plot(total_rotterdam$average_price, total_rotterdam$minimum_nights)
plot(total_rotterdam$average_price, total_rotterdam$maximum_nights)
plot(total_rotterdam$average_price, total_rotterdam$average_nights)
```
